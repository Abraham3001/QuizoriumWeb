<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <title>Agregar Contenido | QuizLab</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <!-- Estilos -->
  <link rel="stylesheet" href="../css/style.css">
  <link rel="stylesheet" href="../css/navbar.css">
  <link rel="stylesheet" href="../css/admin-panel.css">
</head>
<body>

<header class="navbar-initial" id="navbar">
  <div class="nav-wrapper">
    <a href="/" class="navbar-brand">QuizLab</a>
    <div class="navbar-buttons">
      <a href="/html/panel-admin.html">Volver al panel</a>
      <a href="/html/admin-login.html">Cerrar sesión</a>
    </div>
  </div>
</header>

<main>
  <div class="form-glass">
    <h2>Agregar nuevo contenido</h2>
    <form action="/admin/contenido" method="POST" enctype="multipart/form-data">
      <!-- Selección de categoría -->
      <div class="form-group">
        <label for="tipoLeucemia">Tipo de leucemia</label>
        <div style="display: flex; gap: 10px;">
          <select id="tipoLeucemia" name="tipoLeucemiaId" required></select>
          <button type="button" onclick="abrirModalTipo()">+ Nuevo tipo</button>
        </div>
      </div>

      <div class="form-group">
        <label for="subtipoLeucemia">Subtipo de leucemia</label>
        <div style="display: flex; gap: 10px;">
          <select id="subtipoLeucemia" name="subtipoLeucemiaId" required></select>
          <button type="button" onclick="abrirModalSubtipo()">+ Nuevo subtipo</button>
        </div>
      </div>

      <!-- Título y descripción -->
      <div class="form-group">
        <label for="titulo">Título</label>
        <input type="text" id="titulo" name="titulo" >
      </div>
      <div class="form-group">
        <label for="subtitulo">Subtítulo (opcional)</label>
        <input type="text" id="subtitulo" name="subtitulo">
      </div>
      <div class="form-group">
        <label for="descripcion">Descripción</label>
        <textarea id="descripcion" name="descripcion" required></textarea>
      </div>

      <!-- Imagen -->
      <div class="form-group">
        <label for="imagen">Imagen</label>
        <input type="file" id="imagen" name="imagen" accept="image/*" >
      </div>
      <div class="form-group">
        <label for="alt">Texto alternativo de la imagen</label>
        <input type="text" id="alt" name="alt" >
      </div>

      <button type="submit">Guardar contenido</button>
    </form>
  </div>
</main>
<!-- Modal para nuevo tipo -->
<div id="modalTipo" class="modal-overlay" style="display:none;">
  <div class="modal-content">
    <h3>Nuevo tipo de leucemia</h3>
    <label for="nuevoTipo">Nombre del tipo:</label>
    <input type="text" id="nuevoTipo" placeholder="Ej. Leucemia linfoblástica aguda">
    <div class="modal-actions">
      <button class="btn-cancel" onclick="cerrarModalTipo()">Cancelar</button>
      <button class="btn-save" onclick="guardarNuevoTipo()">Guardar</button>
    </div>
  </div>
</div>

<!-- Modal para nuevo subtipo -->
<div id="modalSubtipo" class="modal-overlay" style="display:none;">
  <div class="modal-content">
    <h3>Nuevo subtipo</h3>
    <label for="nuevoSubtipo">Nombre del subtipo:</label>
    <input type="text" id="nuevoSubtipo" placeholder="Ej. LLA tipo B">
    <div class="modal-actions">
      <button class="btn-cancel" onclick="cerrarModalSubtipo()">Cancelar</button>
      <button class="btn-save" onclick="guardarNuevoSubtipo()">Guardar</button>
    </div>
  </div>
</div>

<!-- ✅ Confirmación única -->
<div id="guardadoExito" style="display:none; position:fixed; top:30%; left:50%; transform:translate(-50%, -50%);
  background:#4BB543; color:white; padding:20px 40px; border-radius:12px; font-size:1.5rem; z-index:9999; box-shadow: 0 0 20px rgba(0,0,0,0.2);">
  ✅ Guardado con éxito
</div>

<!-- Scripts -->
<script src="../js/navbar.js"></script>
  <script src="../js/navbarScroll.js"></script>
<script src="../js/agregar-contenido.js"></script>

</body>
</html>